{% extends "realestate/base.html" %}
{% load static %}
{% load i18n %}
{% load custom_template_tags %}
{% load wagtailcore_tags wagtailimages_tags %}

{% block page_style %}
    <!-- Custom styles for this template -->
<link href="{% static 'css/carousel.css' %}" rel="stylesheet">
<style>
  .bd-placeholder-img {
  font-size: 1.125rem;
  text-anchor: middle;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  }

  @media (min-width: 768px) {
  .bd-placeholder-img-lg {
  font-size: 3.5rem;
  }
  }
</style>
{% endblock %}

{% block content %}
  <main>
    <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
	<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
	<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
	<button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      {% setvar "True" as is_first %}
      <div class="carousel-inner">
	{% for image in asset.gallery_images.all  %}
	  {% if is_first == "True" %}
            {% setvar "False" as is_first %}
	    <div class="carousel-item active">
	  {% else %}
	    <div class="carousel-item">
	  {% endif %}
          <div class="carousel-item-img">
            <img src="/media/{{ image.upload }}" alt="{{ image.description }}"/>
          </div>

          <div class="container">
            <div class="carousel-caption text-start">
              <h1>Example headline.</h1>
              <p>Some representative placeholder content for the first slide of the carousel.</p>
              <p><a class="btn btn-lg btn-primary" href="#">Sign up today</a></p>
            </div>
          </div>
	    </div>
	{% endfor %}
	<button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
	    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Previous</span>
	  </button>
	  <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
	    <span class="carousel-control-next-icon" aria-hidden="true"></span>
	    <span class="visually-hidden">Next</span>
	  </button>
	    </div>
	    

	    <!-- Marketing messaging and featurettes
		 ================================================== -->
		 {% include 'realestate/includes/marketing.html' %}    
		 <!-- Wrap the rest of the page in another container to center all the content. -->
	    {% block offer_detail %}
	      <div>
		<h1>{{ offer }}</h1>

		<p>{{ offer.title }}
		</p>
		<ul>
		  <li class="list-group-item">agency: {{ asset.get_parent.specific.agency_name }}</li>
		  <li class="list-group-item">city: {{ asset.address_city }}</li>
		  <li class="list-group-item">zip: {{ asset.address_zip }}</li>
		  <li class="list-group-item">surface: {{ offer.asset_surface }}m2</li>
		  <li class="list-group-item">price: {{ offer.price }}</li>
		  <li class="list-group-item">deposit: {{ offer.deposit }}</li>
		</ul>
		<br/>
		nbimages: {{ asset.gallery_images_count }}
		<h2>Asset Title</h2>
		<p>
		  {{ asset.title }}
		</p>
		<h2>Asset Description</h2>
		<p>
		  {{ asset.description|richtext }}
		</p>
		
		<h2>Offer Description</h2>
		<p>
		  {{ offer.description|richtext }}
		</p>
		<h2>Offer Title</h2>
		<p>
		  {{ offer.title }}
		</p>
	      </div>
	    {% endblock %}
      </div><!-- /.container -->
  </main>
{% endblock %}
